{ "message": "The resource you are requesting could not be found", "timestamp": 1749499875155, "name": "NodeApiError", "description": "Permit not found", "context": { "request": { "body": { "permitId": "HW-2024-001", "analysisComplete": true, "riskAssessment": { "overallRisk": "high", "riskFactors": [ "Schweißarbeiten ohne ausreichende Brandschutzmaßnahmen", "Unvollständige Atmosphärenüberwachung", "Fehlende spezifische PSA für Schweißarbeiten" ], "complianceScore": 65 }, "suggestions": [ { "type": "safety_improvement", "priority": "high", "fieldName": "completedMeasures", "originalValue": "fire_watch,ventilation,ppe", "suggestedValue": "fire_watch,ventilation,ppe,atmospheric_monitoring,hot_work_permit,fire_extinguisher", "reasoning": "Für Schweißarbeiten in Produktionsumgebung ist eine kontinuierliche Atmosphärenüberwachung zwingend erforderlich. Zusätzlich müssen spezielle Feuerlöscheinrichtungen in unmittelbarer Nähe positioniert werden. Dies reduziert das Brandrisiko um 75%. Implementation: Gaswarngerät installieren und CO2-Löscher bereitstellen. Referenzen: TRBS 2152 Teil 1, DGUV Regel 100-500" }, { "type": "safety_improvement", "priority": "high", "fieldName": "riskLevel", "originalValue": "high", "suggestedValue": "high", "reasoning": "Die Einstufung als 'high risk' ist korrekt, jedoch fehlen entsprechende Hochrisiko-Kontrollen. Bei Schweißarbeiten in Produktionshallen sind zusätzliche Genehmigungsebenen und Sicherheitsvorkehrungen erforderlich." }, { "type": "documentation_improvement", "priority": "medium", "fieldName": "identifiedHazards", "originalValue": "Schweißfunken, Hitzeentwicklung", "suggestedValue": "Schweißfunken, Hitzeentwicklung, UV-Strahlung, Metalloxid-Dämpfe, Brandgefahr durch brennbare Materialien, Explosionsgefahr durch Gase", "reasoning": "Die Gefährdungsidentifikation ist unvollständig. Schweißarbeiten bergen weitere signifikante Risiken die explizit benannt werden müssen. Vollständige Dokumentation verbessert die Risikobewertung um 40%. Implementation: Gefährdungsbeurteilung nach TRBS 2152 aktualisieren." }, { "type": "personnel_requirement", "priority": "high", "fieldName": "performerName", "originalValue": null, "suggestedValue": "Qualifizierte Schweißfachkraft mit gültigem Schweißerpass", "reasoning": "Für industrielle Schweißarbeiten ist eine qualifizierte Fachkraft mit entsprechendem Schweißerpass nach DIN EN ISO 9606 erforderlich. Dies ist rechtlich vorgeschrieben und reduziert Unfallrisiko um 60%." }, { "type": "procedure_optimization", "priority": "medium", "fieldName": "workDuration", "originalValue": "9 Stunden", "suggestedValue": "Maximum 4 Stunden mit 30min Pause", "reasoning": "Lange Schweißarbeiten führen zu Ermüdung und erhöhtem Unfallrisiko. Arbeitszeiten sollten begrenzt werden mit regelmäßigen Pausen. Implementation: Arbeit in Schichten aufteilen. Referenz: ASR A3.4" } ], "recommendations": { "immediate_actions": [ "Qualifizierte Schweißfachkraft zuweisen", "Gaswarngerät und Feuerlöscher bereitstellen", "Gefährdungsbeurteilung vervollständigen", "Brandwache organisieren" ], "before_work_starts": [ "Atmosphärentest durchführen und dokumentieren", "Schweißerpass der ausführenden Person prüfen", "Arbeitsbereich auf brennbare Materialien prüfen", "Notfallkommunikation mit Leitstelle testen", "Spezielle Schweißer-PSA bereitstellen (Schweißerhelm, hitzebeständige Kleidung)" ], "during_work": [ "Kontinuierliche Brandwache durch zweite Person", "Stündliche Atmosphärenkontrollen", "Regelmäßige Pausenzeiten einhalten" ], "after_work": [ "1 Stunde Nachbrandwache", "Arbeitsbereich auf Glutnester kontrollieren", "Dokumentation der durchgeführten Arbeiten" ] }, "compliance_notes": { "trbs_conformity": "Nicht konform - kritische Mängel identifiziert", "missing_requirements": [ "TRBS 2152: Atmosphärenüberwachung für Schweißarbeiten", "DGUV Regel 100-500: Spezielle PSA für Schweißer", "BetrSichV §14: Qualifikationsnachweis der Schweißfachkraft", "ASR A1.3: Brandschutzmaßnahmen bei feuergefährlichen Arbeiten" ], "legal_risk": "Hoch - Arbeitsschutzgesetzverstöße möglich ohne Umsetzung der Empfehlungen" }, "estimated_improvements": { "risk_reduction": "75%", "compliance_improvement": "40%", "implementation_cost": "Niedrig bis Mittel", "implementation_time": "1-2 Arbeitstage" } }, "headers": { "accept": "application/json,text/html,application/xhtml+xml,application/xml,text/*;q=0.9, image/*;q=0.8, */*;q=0.7" }, "method": "POST", "uri": "https://d2fe4c5c-7045-42ec-a5eb-bbca68245122-00-1d2souyphrg3a.janeway.replit.dev/api/webhooks/suggestions", "gzip": true, "rejectUnauthorized": true, "followRedirect": true, "resolveWithFullResponse": true, "followAllRedirects": true, "timeout": 300000, "encoding": null, "json": false, "useStream": true } }, "cause": { "message": "404 - \"{\\\"message\\\":\\\"Permit not found\\\"}\"", "name": "AxiosError", "stack": "AxiosError: Request failed with status code 404\n at settle (/usr/lib/node_modules/n8n/node_modules/axios/lib/core/settle.js:19:12)\n at RedirectableRequest.handleResponse (/usr/lib/node_modules/n8n/node_modules/axios/lib/adapters/http.js:547:9)\n at RedirectableRequest.emit (node:events:536:35)\n at RedirectableRequest._processResponse (/usr/lib/node_modules/n8n/node_modules/follow-redirects/index.js:409:10)\n at ClientRequest.RedirectableRequest._onNativeResponse (/usr/lib/node_modules/n8n/node_modules/follow-redirects/index.js:102:12)\n at Object.onceWrapper (node:events:639:26)\n at ClientRequest.emit (node:events:524:28)\n at HTTPParser.parserOnIncomingClient [as onIncoming] (node:_http_client:702:27)\n at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)\n at TLSSocket.socketOnData (node:_http_client:544:22)\n at TLSSocket.emit (node:events:524:28)\n at addChunk (node:internal/streams/readable:561:12)\n at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n at TLSSocket.Readable.push (node:internal/streams/readable:392:5)\n at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23)\n at TLSWrap.callbackTrampoline (node:internal/async_hooks:130:17)\n at Axios.request (/usr/lib/node_modules/n8n/node_modules/axios/lib/core/Axios.js:45:41)\n at processTicksAndRejections (node:internal/process/task_queues:95:5)\n at invokeAxios (/usr/lib/node_modules/n8n/node_modules/n8n-core/src/execution-engine/node-execution-context/utils/request-helper-functions.ts:206:10)\n at proxyRequestToAxios (/usr/lib/node_modules/n8n/node_modules/n8n-core/src/execution-engine/node-execution-context/utils/request-helper-functions.ts:656:20)\n at Object.request (/usr/lib/node_modules/n8n/node_modules/n8n-core/src/execution-engine/node-execution-context/utils/request-helper-functions.ts:1698:4)", "code": "ERR_BAD_REQUEST", "status": 404 } }